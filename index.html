<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Charger</title>
<style>
body{font-family:Inter;background:#f1f5f9;padding:20px}
.slot{background:#fff;padding:16px;border-radius:16px;margin-bottom:16px}
button{padding:10px 14px;border:none;border-radius:10px;font-weight:600}
</style>
</head>
<body>

<h2>ðŸ”Œ Admin Charger (3 Slot)</h2>

<div id="slots"></div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script>
firebase.initializeApp({
  apiKey:"AIzaSyCIdveFrv0s1sD4N1sID8x0DH2RKgo5LJg",
  projectId:"queue-charge"
});
const db=firebase.firestore();

db.collection("meta").doc("state").onSnapshot(d=>{
  const slots=d.data().slots;
  slotsEl.innerHTML="";
  for(const s in slots){
    slotsEl.innerHTML+=`
      <div class="slot">
        <b>Slot ${s}</b><br>
        Sekarang: #${slots[s].current}
        <br><br>
        <button onclick="next('${s}')">NEXT</button>
      </div>`;
  }
});

async function next(slot){
  const ref=db.collection("meta").doc("state");
  const snap=await ref.get();
  const cur=snap.data().slots[slot].current;
  await ref.update({[`slots.${slot}.current`]:cur+1});
}

const slotsEl=document.getElementById("slots");
</script>
</body>
</html>
